{"version":3,"file":"is-deep-equal.cjs","names":["getObjectType","o","_Object$prototype$toS","Object","prototype","toString","call","match","isTypedArray","test","isDeepEqual","a","b","undefined","constructor","RegExp","source","flags","Array","isArray","length","i","byteLength","aType","bType","byteOffset","buffer","Uint8Array","size","_iterator","_createForOfIteratorHelperLoose","entries","_step","done","_step$value","value","key","has","_iterator2","_step2","_step2$value","get","_iterator3","_step3","_step3$value","aKeys","keys","hasOwnProperty","_default","exports"],"sources":["../../src/is-deep-equal.ts"],"sourcesContent":["const getObjectType = (o: object): string | undefined => Object.prototype.toString.call(o).match(\n  /\\[object (.*)\\]/\n)?.[1];\n\nconst isTypedArray = (o: object): boolean => (\n  /^\\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\\]$/\n    .test(Object.prototype.toString.call(o))\n);\n\nconst isDeepEqual = (a: any, b: any): boolean => {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== 'object' || typeof b !== 'object'\n    || a === null || a === undefined || b === null || b === undefined\n  ) {\n    return a !== a && b !== b;\n  }\n\n  if (a.constructor !== b.constructor) {\n    return false;\n  }\n\n  if (a.constructor === RegExp) {\n    return a.source === b.source && a.flags === b.flags;\n  }\n\n  if (Array.isArray(a)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (let i = a.length; i-- !== 0;) {\n      if (!isDeepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (isTypedArray(a) && isTypedArray(b)) {\n    if (a.byteLength !== b.byteLength) {\n      return false;\n    }\n\n    for (let i = a.byteLength; i-- !== 0;) {\n      if (!isDeepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  const aType = getObjectType(a);\n  const bType = getObjectType(b);\n\n  if (aType === 'DataView' && bType === 'DataView') {\n    if (a.byteLength !== b.byteLength || a.byteOffset !== b.byteOffset) {\n      return false;\n    }\n\n    return isDeepEqual(a.buffer, b.buffer);\n  }\n\n  if (aType === 'ArrayBuffer' && bType === 'ArrayBuffer') {\n    if (a.byteLength !== b.byteLength) {\n      return false;\n    }\n\n    return isDeepEqual(new Uint8Array(a), new Uint8Array(b));\n  }\n\n  if (aType === 'Map' && bType === 'Map') {\n    if (a.size !== b.size) {\n      return false;\n    }\n\n    for (const [key] of a.entries()) {\n      if (!b.has(key)) {\n        return false;\n      }\n    }\n\n    for (const [key, value] of a.entries()) {\n      if (!isDeepEqual(value, b.get(key))) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (aType === 'Set' && bType === 'Set') {\n    if (a.size !== b.size) {\n      return false;\n    }\n\n    for (const [key] of a.entries()) {\n      if (!b.has(key)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (aType === 'Date' && bType === 'Date') {\n    return +a === +b;\n  }\n\n  const aKeys = Object.keys(a);\n  if (aKeys.length !== Object.keys(b).length) {\n    return false;\n  }\n\n  for (let i = aKeys.length; i-- !== 0;) {\n    if (!Object.prototype.hasOwnProperty.call(b, aKeys[i])) {\n      return false;\n    }\n  }\n\n  for (let i = aKeys.length; i-- !== 0;) {\n    const key = aKeys[i];\n\n    if (!isDeepEqual(a[key], b[key])) {\n      return false;\n    }\n  }\n\n  if (aType !== 'Object' && bType !== 'Object') {\n    return a === b;\n  }\n\n  return true;\n};\n\nexport default isDeepEqual;\n"],"mappings":"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","ignoreList":[]}