{"version":3,"file":"errors.mjs","names":["CustomError","_Error","originalError","_originalError$stack","_this","isOrigErrorValid","Error","prevStackLines","stack","split","call","name","message","constructor","length","slice","concat","join","_inheritsLoose","_wrapNativeSuper","PersistError","_CustomError2","apply","arguments","RehydrateError","_CustomError3"],"sources":["../../src/errors.ts"],"sourcesContent":["class CustomError extends Error {\n  originalError?: Error;\n\n  constructor(originalError: unknown) {\n    const isOrigErrorValid = originalError instanceof Error;\n    const prevStackLines = isOrigErrorValid\n      ? originalError.stack?.split('\\n')\n      : [];\n\n    super(isOrigErrorValid\n      ? `${originalError.name}: ${originalError.message}`\n      : '');\n\n    this.name = this.constructor.name;\n    if (isOrigErrorValid) {\n      this.originalError = originalError;\n    }\n\n    if (prevStackLines?.length && this.stack) {\n      this.stack = this.stack\n        .split('\\n')\n        .slice(0, 2)\n        .concat(\n          prevStackLines.slice(1, prevStackLines.length)\n        )\n        .join('\\n');\n    }\n  }\n}\n\nexport class PersistError extends CustomError {}\nexport class RehydrateError extends CustomError {}\n"],"mappings":";;;;;;;IAAMA,WAAW,0BAAAC,MAAA;EAGf,SAAAD,YAAYE,aAAsB,EAAE;IAAA,IAAAC,oBAAA;IAAA,IAAAC,KAAA;IAClC,IAAMC,gBAAgB,GAAGH,aAAa,YAAYI,KAAK;IACvD,IAAMC,cAAc,GAAGF,gBAAgB,IAAAF,oBAAA,GACnCD,aAAa,CAACM,KAAK,qBAAnBL,oBAAA,CAAqBM,KAAK,CAAC,IAAI,CAAC,GAChC,EAAE;IAENL,KAAA,GAAAH,MAAA,CAAAS,IAAA,OAAML,gBAAgB,GACfH,aAAa,CAACS,IAAI,UAAKT,aAAa,CAACU,OAAO,GAC/C,EAAE,CAAC;IAACR,KAAA,CAVVF,aAAa;IAYXE,KAAA,CAAKO,IAAI,GAAGP,KAAA,CAAKS,WAAW,CAACF,IAAI;IACjC,IAAIN,gBAAgB,EAAE;MACpBD,KAAA,CAAKF,aAAa,GAAGA,aAAa;IACpC;IAEA,IAAIK,cAAc,YAAdA,cAAc,CAAEO,MAAM,IAAIV,KAAA,CAAKI,KAAK,EAAE;MACxCJ,KAAA,CAAKI,KAAK,GAAGJ,KAAA,CAAKI,KAAK,CACpBC,KAAK,CAAC,IAAI,CAAC,CACXM,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACXC,MAAM,CACLT,cAAc,CAACQ,KAAK,CAAC,CAAC,EAAER,cAAc,CAACO,MAAM,CAC/C,CAAC,CACAG,IAAI,CAAC,IAAI,CAAC;IACf;IAAC,OAAAb,KAAA;EACH;EAACc,cAAA,CAAAlB,WAAA,EAAAC,MAAA;EAAA,OAAAD,WAAA;AAAA,eAAAmB,gBAAA,CA3BuBb,KAAK;AA8B/B,WAAac,YAAY,0BAAAC,aAAA;EAAA,SAAAD,aAAA;IAAA,OAAAC,aAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAAL,cAAA,CAAAE,YAAA,EAAAC,aAAA;EAAA,OAAAD,YAAA;AAAA,EAASpB,WAAW;AAC7C,WAAawB,cAAc,0BAAAC,aAAA;EAAA,SAAAD,eAAA;IAAA,OAAAC,aAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;EAAAL,cAAA,CAAAM,cAAA,EAAAC,aAAA;EAAA,OAAAD,cAAA;AAAA,EAASxB,WAAW","ignoreList":[]}