{"version":3,"file":"utils.mjs","names":["pick","src","keys","index","dest","length","key","hasOwnProperty","throttle","callback","msecs","nextCallNow","nextCallTimeout","_len","arguments","args","Array","_key","now","Date","timeLeft","apply","clearTimeout","setTimeout","debounce","_len2","_key2"],"sources":["../../src/utils.ts"],"sourcesContent":["type TimeoutHandle = ReturnType<typeof setTimeout>;\n\nexport const pick = <T extends Record<string, any>, K extends keyof T>(\n  src: T | null | undefined,\n  keys: K[]\n): Partial<T> => {\n  if (src === null || typeof src !== 'object') {\n    return {};\n  }\n\n  let index = -1;\n  const dest = {} as T;\n\n  while (++index < keys.length) {\n    const key = keys[index];\n\n    if (src.hasOwnProperty(key)) {\n      dest[key] = src[key];\n    }\n  }\n\n  return dest;\n};\n\nexport const throttle = <T extends (...args: any) => void>(\n  callback: T,\n  msecs: number\n): T => {\n  let nextCallNow = 0;\n  let nextCallTimeout: TimeoutHandle | null;\n\n  return ((...args: any): void => {\n    const now = +new Date();\n    const timeLeft = (nextCallNow || now) - now;\n\n    if (timeLeft <= 0 && !nextCallTimeout) {\n      nextCallNow = now + msecs;\n      callback(...args);\n      return;\n    }\n\n    if (nextCallTimeout) {\n      clearTimeout(nextCallTimeout);\n      nextCallTimeout = null;\n    }\n\n    nextCallTimeout = setTimeout(() => {\n      nextCallNow = +new Date() + msecs;\n      callback(...args);\n\n      clearTimeout(nextCallTimeout as TimeoutHandle);\n      nextCallTimeout = null;\n    }, timeLeft);\n  }) as T;\n};\n\nexport const debounce = <T extends (...args: any) => void>(\n  callback: T,\n  msecs: number\n): T => {\n  let nextCallTimeout: TimeoutHandle | null;\n\n  return ((...args: any): void => {\n    clearTimeout(nextCallTimeout as TimeoutHandle);\n\n    nextCallTimeout = setTimeout(() => {\n      callback(...args);\n      nextCallTimeout = null;\n    }, msecs);\n  }) as T;\n};\n"],"mappings":"AAEA,OAAO,IAAMA,IAAI,GAAG,SAAPA,IAAIA,CACfC,GAAyB,EACzBC,IAAS,EACM;EACf,IAAID,GAAG,KAAK,IAAI,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IAC3C,OAAO,CAAC,CAAC;EACX;EAEA,IAAIE,KAAK,GAAG,CAAC,CAAC;EACd,IAAMC,IAAI,GAAG,CAAC,CAAM;EAEpB,OAAO,EAAED,KAAK,GAAGD,IAAI,CAACG,MAAM,EAAE;IAC5B,IAAMC,GAAG,GAAGJ,IAAI,CAACC,KAAK,CAAC;IAEvB,IAAIF,GAAG,CAACM,cAAc,CAACD,GAAG,CAAC,EAAE;MAC3BF,IAAI,CAACE,GAAG,CAAC,GAAGL,GAAG,CAACK,GAAG,CAAC;IACtB;EACF;EAEA,OAAOF,IAAI;AACb,CAAC;AAED,OAAO,IAAMI,QAAQ,GAAG,SAAXA,QAAQA,CACnBC,QAAW,EACXC,KAAa,EACP;EACN,IAAIC,WAAW,GAAG,CAAC;EACnB,IAAIC,eAAqC;EAEzC,OAAQ,YAAwB;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAT,MAAA,EAApBU,IAAI,OAAAC,KAAA,CAAAH,IAAA,GAAAI,IAAA,MAAAA,IAAA,GAAAJ,IAAA,EAAAI,IAAA;MAAJF,IAAI,CAAAE,IAAA,IAAAH,SAAA,CAAAG,IAAA;IAAA;IACd,IAAMC,GAAG,GAAG,CAAC,IAAIC,IAAI,CAAC,CAAC;IACvB,IAAMC,QAAQ,GAAG,CAACT,WAAW,IAAIO,GAAG,IAAIA,GAAG;IAE3C,IAAIE,QAAQ,IAAI,CAAC,IAAI,CAACR,eAAe,EAAE;MACrCD,WAAW,GAAGO,GAAG,GAAGR,KAAK;MACzBD,QAAQ,CAAAY,KAAA,SAAIN,IAAI,CAAC;MACjB;IACF;IAEA,IAAIH,eAAe,EAAE;MACnBU,YAAY,CAACV,eAAe,CAAC;MAC7BA,eAAe,GAAG,IAAI;IACxB;IAEAA,eAAe,GAAGW,UAAU,CAAC,YAAM;MACjCZ,WAAW,GAAG,CAAC,IAAIQ,IAAI,CAAC,CAAC,GAAGT,KAAK;MACjCD,QAAQ,CAAAY,KAAA,SAAIN,IAAI,CAAC;MAEjBO,YAAY,CAACV,eAAgC,CAAC;MAC9CA,eAAe,GAAG,IAAI;IACxB,CAAC,EAAEQ,QAAQ,CAAC;EACd,CAAC;AACH,CAAC;AAED,OAAO,IAAMI,QAAQ,GAAG,SAAXA,QAAQA,CACnBf,QAAW,EACXC,KAAa,EACP;EACN,IAAIE,eAAqC;EAEzC,OAAQ,YAAwB;IAAA,SAAAa,KAAA,GAAAX,SAAA,CAAAT,MAAA,EAApBU,IAAI,OAAAC,KAAA,CAAAS,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;MAAJX,IAAI,CAAAW,KAAA,IAAAZ,SAAA,CAAAY,KAAA;IAAA;IACdJ,YAAY,CAACV,eAAgC,CAAC;IAE9CA,eAAe,GAAGW,UAAU,CAAC,YAAM;MACjCd,QAAQ,CAAAY,KAAA,SAAIN,IAAI,CAAC;MACjBH,eAAe,GAAG,IAAI;IACxB,CAAC,EAAEF,KAAK,CAAC;EACX,CAAC;AACH,CAAC","ignoreList":[]}